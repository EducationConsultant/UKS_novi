sudo: required
language: python
python:
- '3.5'
services:
- docker
before_install:
- docker --version
- cd ProjekatUKS/
- docker build -t $DOCKER_HUB_USERNAME/uks_novi:proba .
- docker images
install:
- pip install -r requirements.txt
script:
- docker-compose run web python3 manage.py makemigrations
- docker-compose run web python3 manage.py migrate
- docker-compose run web python3 manage.py test
after_success:
- docker login -u "$DOCKER_HUB_USERNAME" -p "$DOCKER_HUB_PASSWORD";
- docker push $DOCKER_HUB_USERNAME/uks_novi:proba
env:
  global:
  - secure: kneXgvK5aCIXnNkVzfBAu4UpK+HyKtDhtl5pqaH4wXLRAPtHLloY1A4hDajYj1leZFvlnYlSdp4aW66GjWOxpzWmtIXvSRrYMCMtyW/omwaHkJzBWcRQ+aSsS8ZgeKnwhqgqLdfoB0cOnTlte+5lii5FNi/JXliXrHX5DxXFFZ7OMS0pMpRURDpyzZ8vTn8LXw5MTrSwTYHcNFXxzJOwwWZIt6EloIThOn/ixvfBytY9a08+4F5Veqxc98pig6r7lp4lHivP9c7jlwt0YgFsxerqN0ThHXMvBJvNegC0nr6+tKsoNOSqolCNKFRA34k1AJmZ6PCTQdJispJXsJeMFdZm/oWX3KHh8OGh+zYRgpA9M1NY/Q13wnoY7pGQxJfFmtt8VzXMgVKcOI1ZvpPbpHF+ZT+O2562G5ZmnVIpqcvLixnFuHfSyEl3L3FlyW+qv6MAVFViKyvI31HU+iZTj9qxCdD1MU4blwln7/0JGVYAM7BuJ2QP9PwGnB2mgKFD4Z9CgMPHyW9frZIk5F0y7Idcf6edTVI6XOC10XaxdXT2d7EA32cmR+2xIPUV8hIbiiyQFHIO+SXdKpNByYMh+XgTtiQMCFXYfLqFxKC9i+Ntub4D68fIsHDXZ4Y4SqgykjC9keh0n1/f3Nko7AlAgxPGI8TxoqkSw03pU9HBvSI=
  - secure: XF/XLxa62pWq/FD5nq++c8Jw+6EvCW6NUU4pM7MuTcL+DOYTqyGz0EPBE/0NWct/KeAE+cQWGxaBsNfMMUsjTy7lFDMJWzpqBJHCmjhTJs4v47xdmj1kXYLFCWMFLbVjowMaQS7xsGr90e4R/M+iVvW6Ua4pT+RzjKvYfeOWnDqwRmq29ASCLhwkh8F1v/ENSJ3XBsuOLY4pWJ4i6yjA0/96V1t7l4bA7++Zjx4zAekXBNTdBPplip44hESqUsLaOV/e8nHvDAAV1YREWkbobIjV1iCSRaqtaeB3D88sqonNtUq9Db8nw+kcc03VH6PJApeTmqVEV1A9Ovt7t9rgedywdGnn1BAc0BCJL3k5BF78uJ6JTuPwrZSPebt6f13Cn4M+gz5a0Df6aXPvaFPQzpn2Znuuefa7aKRJYLpfntFgtMQCXP1+mqojq/sCY5ykIuum+k2DWVSgi9MDO+5RHOH719ZwNYu1wtz3p5P1xkrF6Dq74SpKNy+9GcBFzrADlUlBmw+GNFI4gfCKEud67M3rsQeFmiQEopHS15iFCxNXoIJw31/8dEqCYN+Yd0VozEqEueFobQw3crlCNrMhJlBUE3XVZKby5UJ344eRFJrVKSevHt2AstpnuIIyGIRUBMCKZjmUBf4L53j6E3zkem4kB3P9D+x8ezZVaPW7DSg=
  - secure: FNg2zykzl8hD3KsBITx6kyRnjjanRxzisHX+jbVSrNZre9RR5b2Vyj7oLjCEI/o3NZjgvNtQ0MY2LEs0Ck2c1BKmzC16ybWYhyaR1WsFF/NbRIV9TIZTpwA+T87HwsowI0Yj/Od8YREpgVdm6Ltsqtaya7ROQWlajXLc+Ifo+unOnaUFFi/euy8u9INm3II+Z5yDpR/U4owp7FGTPG0KAlXpiul/XTJH9RxOHgzQeSaFaWhy6FDI8rEWzolwv+61rw+xJBchL8IZJy3g+72WdCb5fAzJH7242dm+hK4Oa5prbdWlNyiHLThG3UV2xhSMf5j21378F2ipVgAPA32G2253sXIGNekTI3mmqr+hT2RuqtccK1Qfcj7BKstErTX7qVSjj3o5aJnBhAftFI2QbLURFOh0IgQrSTbY0G5TZUO9p/xIOY5/F5npPtcpqoppdh+iIJsBN4QNBw+vB2NRJeW0m3inXJvYwMDtbcQys6QMaVRbWMQIr62sxbuCsNPe2GTBn/qYtf5fY7mOpl2bt+4CsEzxvAbQTM3+y3UaoAmXZM90f+96gAmUfRGgDQtKQyf06K2kHsYTOsXd9hAHNIf3Vqv3vgt+5w70F+OhQFSlr8D6NxCg6ugUWUMs9nDpuDdNX0UvpRZCBU8uXoqrLWqh9X1Ahmzto+4eixps+eM=
  - secure: LaPbSgzOmhfN8YnusaqtE5aWbKpVNkS6NcU8gizaZXl7ZzvTJSFX7V5B5Z2FTgCIixLTJ0OYP74hb1nHYa1eE4jx/unMKyo+W+LcLnsOJH5vapJLrYFj0GgOVEV1wYgmVPh5k2HrvsiFuvugzmMGfzfpMvHuSHwY2rVNAFQl2DZbYB+YARhHW2ItNZ8TKWOX7GXVqozP0aHfYPYfXYujtwEZTZiBXp7iYCSPuG+gpbVjk+cQV0gY+l5Qlk9WJCfwy0TS3PPAmcVvyz+/eEr24/SiLMNZYp6yiTp0LrZF7Yiu0wQ8SG+vPm/48UMcJgPAm/fQoFqNW4alYtjhFvNmd0eVAHslO9qC/hbwAlQdyQwrWSAh3juSb4+0h0LfUB+m+7Zaq4zdBQpALIq5jQjzbcbeOe2PQ5B4LqNQKInD0FiWqldASH2JANoemaGm6RUczeKkokZb4xeosFYXLnsM9b0XIU3I+x97m2Rhp2NClKF3NwiZBn71zHqjGrlZm06lvQ4Lgv5snc6PdfDMLC2y9wh086KK9H3MrsBnNbLGSDD0RFvqsDddYZxjRdtlO7ZPfZvbgqLrairXkHTbjaHLkgraj2F/JWPOrK5CtYed3UBM6GMiSsRczyu7Zzbz1JpPoxzUhygnLTTjMBhGwTsR5tRZPVkWCW0WGIcPUQghP/Y=
  - secure: Ta2HqUwsXP1HmMw35v9GXXtZZ34+qzn/Hc28TA+/USQyCjHn1O0wobLKpHlfO3pJW4brIiWlxgzmW750meuJIektfkyccMIM+VUUaGksWwJi9GKPV2SdAOscGgDAFYeBMw4dXZLmNUPj/Pu5vIHQxS6fDHMd7vbk3JDKiqMASODA9Ntn/SM55A+vKZI3hatEf5QEEBDSL/1VvO06ja6RP98ofrFJANH4kdcKd+VaKcdBHpmA5muE3kDtWifMAb64doxcMEfD+IG10RcH9YWd6rlbGe7pbEkXE0AVEJXLs3FMAGG5oxz/5eUTZyI8vIbXtlJMl29zDZsomngNppzupR12215rvkyv7B84nb0Fote+kGhOzWTdjXTq9klJ81yKkA3BbuiKqr3rkCkOWi0c86rpe3L/cm9hNn5lfHJE/aGlNa/iMs/5Y8O9tIfe8h0SIiFZRZ8rtV5dCqbfPEPuwrUfoMe0r1jPhX8vJQjysOPrHmHqfcqOistDn0ByItlLwK5y84bTR97cYbKjpExZMFaGpIuiwBYzDZzv0t45B1To5NcKJWO4aA8+Bv09jq5MP5Is417QjPrrgPGsELhhVwk0/FREGCmaOmfh4TXI2ItDC8ilAixHzZ/Kucpfqx7mtRXd2QgRQVrif/4CpJyH/Gw8buM12hPF0C98JbTV8k8=
